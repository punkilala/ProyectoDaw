@model Models.Usuario
@{
    ViewBag.Title = "Cambiar Contraseña";
}

<h3 class="page-header">@ViewBag.Title</h3>
@using (Ajax.BeginForm("CambioDePass", null, new AjaxOptions()
{
    HttpMethod = "POST",
    Confirm = "¿esta seguro que quiere cambiar la Contraseña?",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "mensaje",
    LoadingElementId = "cargando",
    OnSuccess = "onSuccess"
},new { autocomplete = "off" }))
{
    @Html.AntiForgeryToken()
    @Html.Hidden("id")
    <div class="form-group row">
        <div class="col-xs-12 col-sm-5">
            <label>Actual</label>
            @Html.PasswordFor(u => u.PassActual, new { @class = "form-control", autocomplete = "off", placeholder = "Introduzca Contraseña Actual"})
            @Html.ValidationMessageFor(u => u.PassActual, null, new { @class = "label label-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xs-12 col-sm-5">
            <label>Nueva Contraseña</label>
            @Html.PasswordFor(u => u.PassNuevo, new { @class = "form-control", autocomplete = "off", placeholder = "Introduzca la Nueva Contraseña" })
            @Html.ValidationMessageFor(u => u.PassNuevo, null, new { @class = "label label-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xs-12 col-sm-5">
            <label>Repetir Contraseña</label>
            @Html.PasswordFor(u => u.PassRepetir, new { @class = "form-control", autocomplete = "off", placeholder = "Repita la contraseña" })
            @Html.ValidationMessageFor(u => u.PassRepetir, null, new { @class = "label label-danger" })
        </div>
    </div>
    <div class="col-xs-12 col-sm-5 panel-footer">
        <div id="mensaje" class="clo-xs-12 col-md-9"></div>
        <div class="pull-right">
            <img id="cargando" style="display:none;" src="~/Content/images/ajax-loader.gif" />
            <input class="btn btn-primary" type="submit" value="Cambiar" />
        </div>
    </div>
}
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
<script>
    $(document).ready(function () {
        $('#PassActual').val('');
    });

</script>

